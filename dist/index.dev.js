this.google=this.google||{},this.google.maps=this.google.maps||{},this.google.maps.plugins=this.google.maps.plugins||{},this.google.maps.plugins.markermanager=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var s,a,u=function(t){return t&&t.Math==Math&&t},h=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof r&&r)||function(){return this}()||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},f=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,d={f:g&&!c.call({1:2},1)?function(t){var e=g(this,t);return!!e&&e.enumerable}:c},m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v={}.toString,_=function(t){return v.call(t).slice(8,-1)},p="".split,y=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==_(t)?p.call(t,""):Object(t)}:Object,w=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},M=function(t){return y(w(t))},k=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t){return"function"==typeof t?t:void 0},x=function(t,e){return arguments.length<2?b(h[t]):h[t]&&h[t][e]},O=x("navigator","userAgent")||"",P=h.process,S=h.Deno,C=P&&P.versions||S&&S.version,z=C&&C.v8;z?a=(s=z.split("."))[0]<4?1:s[0]+s[1]:O&&(!(s=O.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=O.match(/Chrome\/(\d+)/))&&(a=s[1]);var j=a&&+a,B=!!Object.getOwnPropertySymbols&&!l((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&j&&j<41})),T=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=T?function(t){return"symbol"==typeof t}:function(t){var e=x("Symbol");return"function"==typeof e&&Object(t)instanceof e},E=function(t,e){try{Object.defineProperty(h,t,{value:e,configurable:!0,writable:!0})}catch(n){h[t]=e}return e},G="__core-js_shared__",L=h[G]||E(G,{}),Y=o((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),X=function(t){return Object(w(t))},A={}.hasOwnProperty,N=Object.hasOwn||function(t,e){return A.call(X(t),e)},D=0,W=Math.random(),F=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++D+W).toString(36)},I=Y("wks"),V=h.Symbol,q=T?V:V&&V.withoutSetter||F,H=function(t){return N(I,t)&&(B||"string"==typeof I[t])||(B&&N(V,t)?I[t]=V[t]:I[t]=q("Symbol."+t)),I[t]},K=H("toPrimitive"),R=function(t,e){if(!k(t)||Z(t))return t;var n,i=t[K];if(void 0!==i){if(void 0===e&&(e="default"),n=i.call(t,e),!k(n)||Z(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,i;if("string"===e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!k(i=n.call(t)))return i;if("string"!==e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(t,e)},J=function(t){var e=R(t,"string");return Z(e)?e:String(e)},Q=h.document,U=k(Q)&&k(Q.createElement),$=!f&&!l((function(){return 7!=Object.defineProperty((t="div",U?Q.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),tt=Object.getOwnPropertyDescriptor,et={f:f?tt:function(t,e){if(t=M(t),e=J(e),$)try{return tt(t,e)}catch(t){}if(N(t,e))return m(!d.f.call(t,e),t[e])}},nt=function(t){if(!k(t))throw TypeError(String(t)+" is not an object");return t},it=Object.defineProperty,rt={f:f?it:function(t,e,n){if(nt(t),e=J(e),nt(n),$)try{return it(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},ot=f?function(t,e,n){return rt.f(t,e,m(1,n))}:function(t,e,n){return t[e]=n,t},st=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return st.call(t)});var at,ut,ht,lt,ft=L.inspectSource,ct=h.WeakMap,gt="function"==typeof ct&&/native code/.test(ft(ct)),dt=Y("keys"),mt={},vt="Object already initialized",_t=h.WeakMap;if(gt||L.state){var pt=L.state||(L.state=new _t),yt=pt.get,wt=pt.has,Mt=pt.set;at=function(t,e){if(wt.call(pt,t))throw new TypeError(vt);return e.facade=t,Mt.call(pt,t,e),e},ut=function(t){return yt.call(pt,t)||{}},ht=function(t){return wt.call(pt,t)}}else{var kt=dt[lt="state"]||(dt[lt]=F(lt));mt[kt]=!0,at=function(t,e){if(N(t,kt))throw new TypeError(vt);return e.facade=t,ot(t,kt,e),e},ut=function(t){return N(t,kt)?t[kt]:{}},ht=function(t){return N(t,kt)}}var bt,xt={set:at,get:ut,has:ht,enforce:function(t){return ht(t)?ut(t):at(t,{})},getterFor:function(t){return function(e){var n;if(!k(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Ot=o((function(t){var e=xt.get,n=xt.enforce,i=String(String).split("String");(t.exports=function(t,e,r,o){var s,a=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||N(r,"name")||ot(r,"name",e),(s=n(r)).source||(s.source=i.join("string"==typeof e?e:""))),t!==h?(a?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=r:ot(t,e,r)):u?t[e]=r:E(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ft(this)}))})),Pt=Math.ceil,St=Math.floor,Ct=function(t){return isNaN(t=+t)?0:(t>0?St:Pt)(t)},zt=Math.min,jt=function(t){return t>0?zt(Ct(t),9007199254740991):0},Bt=Math.max,Tt=Math.min,Zt=function(t,e){var n=Ct(t);return n<0?Bt(n+e,0):Tt(n,e)},Et=function(t){return function(e,n,i){var r,o=M(e),s=jt(o.length),a=Zt(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Gt={includes:Et(!0),indexOf:Et(!1)}.indexOf,Lt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Yt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,i=M(t),r=0,o=[];for(n in i)!N(mt,n)&&N(i,n)&&o.push(n);for(;e.length>r;)N(i,n=e[r++])&&(~Gt(o,n)||o.push(n));return o}(t,Lt)}},Xt={f:Object.getOwnPropertySymbols},At=x("Reflect","ownKeys")||function(t){var e=Yt.f(nt(t)),n=Xt.f;return n?e.concat(n(t)):e},Nt=function(t,e){for(var n=At(e),i=rt.f,r=et.f,o=0;o<n.length;o++){var s=n[o];N(t,s)||i(t,s,r(e,s))}},Dt=/#|\.prototype\./,Wt=function(t,e){var n=It[Ft(t)];return n==qt||n!=Vt&&("function"==typeof e?l(e):!!e)},Ft=Wt.normalize=function(t){return String(t).replace(Dt,".").toLowerCase()},It=Wt.data={},Vt=Wt.NATIVE="N",qt=Wt.POLYFILL="P",Ht=Wt,Kt=et.f,Rt=Array.isArray||function(t){return"Array"==_(t)},Jt=H("species"),Qt=function(t,e){return new(function(t){var e;return Rt(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Rt(e.prototype)?k(e)&&null===(e=e[Jt])&&(e=void 0):e=void 0),void 0===e?Array:e}(t))(0===e?0:e)},Ut=function(t,e,n){var i=J(e);i in t?rt.f(t,i,m(0,n)):t[i]=n},$t=H("species"),te=(bt="splice",j>=51||!l((function(){var t=[];return(t.constructor={})[$t]=function(){return{foo:1}},1!==t[bt](Boolean).foo}))),ee=Math.max,ne=Math.min,ie=9007199254740991,re="Maximum allowed length exceeded";function oe(t,e){return new google.maps.Point(~~(.5+(r=t.lng(),(1+r/180)*(2<<e+6))),~~(.5+(n=t.lat(),i=Math.sin(n*Math.PI/180),(1-.5/Math.PI*Math.log((1+i)/(1-i)))*(2<<e+6))));var n,i,r}!function(t,e){var n,i,r,o,s,a=t.target,u=t.global,l=t.stat;if(n=u?h:l?h[a]||E(a,{}):(h[a]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(s=Kt(n,i))&&s.value:n[i],!Ht(u?i:a+(l?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;Nt(o,r)}(t.sham||r&&r.sham)&&ot(o,"sham",!0),Ot(n,i,o,t)}}({target:"Array",proto:!0,forced:!te},{splice:function(t,e){var n,i,r,o,s,a,u=X(this),h=jt(u.length),l=Zt(t,h),f=arguments.length;if(0===f?n=i=0:1===f?(n=0,i=h-l):(n=f-2,i=ne(ee(Ct(e),0),h-l)),h+n-i>ie)throw TypeError(re);for(r=Qt(u,i),o=0;o<i;o++)(s=l+o)in u&&Ut(r,o,u[s]);if(r.length=i,n<i){for(o=l;o<h-i;o++)a=o+n,(s=o+i)in u?u[a]=u[s]:delete u[a];for(o=h;o>h-i+n;o--)delete u[o-1]}else if(n>i)for(o=h-i;o>l;o--)a=o+n-1,(s=o+i-1)in u?u[a]=u[s]:delete u[a];for(o=0;o<n;o++)u[o+l]=arguments[o+2];return u.length=h-i+n,r}});var se=function(){function t(n,i){e(this,t),this.z=i,this.minX=Math.min(n[0].x,n[1].x),this.maxX=Math.max(n[0].x,n[1].x),this.minY=Math.min(n[0].y,n[1].y),this.maxY=Math.max(n[0].y,n[1].y)}return i(t,[{key:"equals",value:function(t){return this.maxX===t.maxX&&this.maxY===t.maxY&&this.minX===t.minX&&this.minY===t.minY}},{key:"containsPoint",value:function(t){return this.minX<=t.x&&this.maxX>=t.x&&this.minY<=t.y&&this.maxY>=t.y}}]),t}(),ae=function(){function t(n,i){var r=this,o=i.maxZoom,s=void 0===o?19:o,a=i.trackMarkers,u=i.shown,h=void 0===u||u,l=i.borderPadding,f=void 0===l?100:l;e(this,t),this._tileSize=1024,this._map=n,this._mapZoom=n.getZoom(),this._maxZoom=s,this._trackMarkers=a,this._swPadding=new google.maps.Size(-f,f),this._nePadding=new google.maps.Size(f,-f),this._gridWidth={},this._grid=[],this._grid[this._maxZoom]=[],this._numMarkers={},this._numMarkers[this._maxZoom]=0,this.shownMarkers=0,this.shown=h,google.maps.event.addListenerOnce(n,"idle",(function(){r._initialize()}))}return i(t,[{key:"_initialize",value:function(){var t=this._map.mapTypes;for(var e in t)e in t&&t.get(e)&&"number"===t.get(e).maxZoom&&this._map.mapTypes.get(e).maxZoom;google.maps.event.addListener(this._map,"dragend",this._onMapMoveEnd.bind(this)),google.maps.event.addListener(this._map,"idle",this._onMapMoveEnd.bind(this)),google.maps.event.addListener(this._map,"zoom_changed",this._onMapMoveEnd.bind(this)),this.resetManager(),this._shownBounds=this._getMapGridBounds(),google.maps.event.trigger(this,"loaded")}},{key:"_removeOverlay",value:function(t){t.setMap(null),this.shownMarkers--}},{key:"_addOverlay",value:function(t){this.shown&&(t.setMap(this._map),this.shownMarkers++)}},{key:"resetManager",value:function(){for(var t=256,e=0;e<=this._maxZoom;++e)this._grid[e]=[],this._numMarkers[e]=0,this._gridWidth[e]=Math.ceil(t/this._tileSize),t<<=1}},{key:"clearMarkers",value:function(){this._processAll(this._shownBounds,this._removeOverlay.bind(this)),this.resetManager()}},{key:"_getTilePoint",value:function(t,e,n){var i=oe(t,e);return new google.maps.Point(Math.floor((i.x+n.width)/this._tileSize),Math.floor((i.y+n.height)/this._tileSize))}},{key:"_addMarkerBatch",value:function(t,e,n){var i=this,r=t.getPosition();t.set("__minZoom",e),this._trackMarkers&&google.maps.event.addListener(t,"changed",(function(t,e,n){i._onMarkerMoved(t,e,n)}));for(var o=this._getTilePoint(r,n,new google.maps.Size(0,0)),s=n;s>=e;s--){this._getGridCellCreate(o.x,o.y,s).push(t),o.x=o.x>>1,o.y=o.y>>1}}},{key:"_isGridPointVisible",value:function(t){var e=this._shownBounds.minY<=t.y&&t.y<=this._shownBounds.maxY,n=this._shownBounds.minX,i=n<=t.x&&t.x<=this._shownBounds.maxX;if(!i&&n<0){var r=this._gridWidth[this._shownBounds.z];i=n+r<=t.x&&t.x<=r-1}return e&&i}},{key:"_onMarkerMoved",value:function(t,e,n){for(var i=this._maxZoom,r=!1,o=this._getTilePoint(e,i,new google.maps.Size(0,0)),s=this._getTilePoint(n,i,new google.maps.Size(0,0));i>=0&&(o.x!==s.x||o.y!==s.y);){var a=this._getGridCellNoCreate(o.x,o.y,i);a&&this._removeMarkerFromCell(a,t)&&this._getGridCellCreate(s.x,s.y,i).push(t),i===this._mapZoom&&(this._isGridPointVisible(o)?this._isGridPointVisible(s)||(this._removeOverlay(t),r=!0):this._isGridPointVisible(s)&&(this._addOverlay(t),r=!0)),o.x=o.x>>1,o.y=o.y>>1,s.x=s.x>>1,s.y=s.y>>1,--i}r&&this._notifyListeners()}},{key:"removeMarker",value:function(t){for(var e=this._maxZoom,n=!1,i=t.getPosition(),r=this._getTilePoint(i,e,new google.maps.Size(0,0));e>=0;){var o=this._getGridCellNoCreate(r.x,r.y,e);o&&this._removeMarkerFromCell(o,t),e===this._mapZoom&&this._isGridPointVisible(r)&&(this._removeOverlay(t),n=!0),r.x=r.x>>1,r.y=r.y>>1,--e}n&&this._notifyListeners(),this._numMarkers[t.get("__minZoom")]--}},{key:"addMarkers",value:function(t,e,n){n=this._getOptmaxZoom(n);for(var i=t.length-1;i>=0;i--)this._addMarkerBatch(t[i],e,n);this._numMarkers[e]+=t.length}},{key:"_getOptmaxZoom",value:function(t){return t||this._maxZoom}},{key:"getMarkerCount",value:function(t){for(var e=0,n=0;n<=t;n++)e+=this._numMarkers[n];return e}},{key:"getMarker",value:function(t,e,n){var i=new google.maps.LatLng(t,e),r=this._getTilePoint(i,n,new google.maps.Size(0,0)),o=new google.maps.Marker({position:i}),s=this._getGridCellNoCreate(r.x,r.y,n);if(void 0!==s)for(var a=0;a<s.length;a++)t===s[a].getPosition().lat()&&e===s[a].getPosition().lng()&&(o=s[a]);return o}},{key:"addMarker",value:function(t,e,n){n=this._getOptmaxZoom(n),this._addMarkerBatch(t,e,n);var i=this._getTilePoint(t.getPosition(),this._mapZoom,new google.maps.Size(0,0));this._isGridPointVisible(i)&&e<=this._shownBounds.z&&this._shownBounds.z<=n&&(this._addOverlay(t),this._notifyListeners()),this._numMarkers[e]++}},{key:"_getGridCellCreate",value:function(t,e,n){return t<0&&(t+=this._gridWidth[n]),this._grid[n]||(this._grid[n]=[]),this._grid[n][t]||(this._grid[n][t]=[]),this._grid[n][t][e]||(this._grid[n][t][e]=[]),this._grid[n][t][e]}},{key:"_getGridCellNoCreate",value:function(t,e,n){return t<0&&(t+=this._gridWidth[n]),this._grid[n]&&this._grid[n][t]&&this._grid[n][t][e]?this._grid[n][t][e]:null}},{key:"_getGridBounds",value:function(t,e,n,i){e=Math.min(e,this._maxZoom);var r=t.getSouthWest(),o=t.getNorthEast(),s=this._getTilePoint(r,e,n),a=this._getTilePoint(o,e,i),u=this._gridWidth[e];(o.lng()<r.lng()||a.x<s.x)&&(s.x-=u),a.x-s.x+1>=u&&(s.x=0,a.x=u-1);var h=new se([s,a],e);return h.z=e,h}},{key:"_getMapGridBounds",value:function(){return this._getGridBounds(this._map.getBounds(),this._mapZoom,this._swPadding,this._nePadding)}},{key:"_onMapMoveEnd",value:function(){window.setTimeout(this._updateMarkers.bind(this),0)}},{key:"visible",value:function(){return!!this.shown}},{key:"isHidden",value:function(){return!this.shown}},{key:"show",value:function(){this.shown=!0,this.refresh()}},{key:"hide",value:function(){this.shown=!1,this.refresh()}},{key:"toggle",value:function(){this.shown=!this.shown,this.refresh()}},{key:"refresh",value:function(){this.shownMarkers>0&&this._processAll(this._shownBounds,this._removeOverlay.bind(this)),this.show&&this._processAll(this._shownBounds,this._addOverlay.bind(this)),this._notifyListeners()}},{key:"_updateMarkers",value:function(){this._mapZoom=this._map.getZoom();var t=this._getMapGridBounds();t.equals(this._shownBounds)&&t.z===this._shownBounds.z||(t.z!==this._shownBounds.z?(this._processAll(this._shownBounds,this._removeOverlay.bind(this)),this.show&&this._processAll(t,this._addOverlay.bind(this))):(this._rectangleDiff(this._shownBounds,t,this._removeCellMarkers.bind(this)),this.show&&this._rectangleDiff(t,this._shownBounds,this._addCellMarkers.bind(this))),this._shownBounds=t,this._notifyListeners())}},{key:"_notifyListeners",value:function(){google.maps.event.trigger(this,"changed",this._shownBounds,this.shownMarkers)}},{key:"_processAll",value:function(t,e){for(var n=t.minX;n<=t.maxX;n++)for(var i=t.minY;i<=t.maxY;i++)this._processCellMarkers(n,i,t.z,e)}},{key:"_processCellMarkers",value:function(t,e,n,i){var r=this._getGridCellNoCreate(t,e,n);if(r)for(var o=r.length-1;o>=0;o--)i(r[o])}},{key:"_removeCellMarkers",value:function(t,e,n){this._processCellMarkers(t,e,n,this._removeOverlay.bind(this))}},{key:"_addCellMarkers",value:function(t,e,n){this._processCellMarkers(t,e,n,this._addOverlay.bind(this))}},{key:"_rectangleDiff",value:function(t,e,n){this._rectangleDiffCoords(t,e,(function(e,i){n(e,i,t.z)}))}},{key:"_rectangleDiffCoords",value:function(t,e,n){var i,r,o=t.minX,s=t.minY,a=t.maxX,u=t.maxY,h=e.minX,l=e.minY,f=e.maxX,c=e.maxY;for(i=o;i<=a;i++){for(r=s;r<=u&&r<l;r++)n(i,r);for(r=Math.max(c+1,s);r<=u;r++)n(i,r)}for(r=Math.max(s,l);r<=Math.min(u,c);r++){for(i=Math.min(a+1,h)-1;i>=o;i--)n(i,r);for(i=Math.max(o,f+1);i<=a;i++)n(i,r)}}},{key:"_removeMarkerFromCell",value:function(t,e){for(var n=0,i=0;i<t.length;++i)t[i]===e&&(t.splice(i--,1),n++);return n}}]),t}();return t.MarkerManager=ae,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=index.dev.js.map
